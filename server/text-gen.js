let openness = {
  desc: 'Openness to experience relates to our imagination and the degree to which we are comfortable with unfamiliarity',
  meta: 'People scoring high on this trait can be described as intellectually curious, sensitive to beauty, and unconventional, while people scoring low on this trait can be characterized as traditional and are more likely to prefer the familiar over the unusual.',
  text: [
    '[He/She/They] [is/are] down-to-earth and prefers things to be simple and straightforward. [he/she/they] might say that it just makes life easier if things don’t change unnecessarily, that the arts are of no practical use to [he/she/they], and that [he/she/they] think tradition [is/are] more important than others do.',
    '[He/She/They] dislikes needless complexity, and prefers the familiar over the unusual. [he/she/they] might say that [he/she/they] are more conservative than many, but not to an extreme level, and that [he/she/they] value practical outcomes over flighty imagination.',
    '[He/She/They] [is/are] aware of their feelings but doesn’t get carried away with their imagination either. [he/she/they] might say that [he/she/they] embrace change when it [is/are] necessary while still resisting it when [he/she/they] think it [is/are] not, and that beauty [is/are] important to [he/she/they], but it’s not everything.',
    '[He/She/They] [is/are] intellectually curious and appreciative of what [he/she/they] consider beautiful, no matter what others think. [he/she/they] might say that [his/her/their] imagination [is/are] vivid and makes [he/she/they] more creative than many others.',
    '[He/She/They] [is/are] far more intellectually curious and sensitive to beauty than most. [he/she/they] might say that [his/her/their] beliefs are individualistic and frequently drift towards the unconventional, and that [he/she/they] enjoy [his/her/their] imagination and the exciting places it takes [he/she/they]!'
  ]
}

let conscientiousness = {
  desc: 'Conscientiousness concerns the way in which we control, regulate, and direct our impulses.',
  meta: 'People scoring high on this trait can be described as organized, reliable, and efficient, while people scoring low on this trait are generally characterized as spontaneous and impulsive.',
  text: [
    '[He/She/They] [is/are] impulsive and whimsical, and fine with it! From [his/her/their] responses it appears that [he/she/they] would say that sometimes decisions need to be made quickly, and that [he/she/they] make them quicker than most! [he/she/they] would say [he/she/they] are zany, colourful, and just generally great fun to be with... as long as someone isn’t relying on [he/she/they] to get some work done.',
    '[He/She/They] [is/are] spontaneous and fun, and that [he/she/they] like to do unexpected things that make life that bit more interesting. [he/she/they] might say that [he/she/they] aren’t completely unreliable, but [he/she/they]’ve been known to slip up on occasion.',
    '[He/She/They] [is/are] random and fun to be around but that [he/she/they] can plan and persist when life requires it. From [his/her/their] responses it appears that depending on the situation, [he/she/they] can make quick decisions or deliberate for longer if necessary.',
    '[He/She/They] avoids foreseeable trouble through purposefully planning and achieves success through persistence. From [his/her/their] responses it appears that [he/she/they] are reliable and prepared for life’s challenges.',
    '[He/She/They] [is/are] a perfectionist. From [his/her/their] responses it appears that [he/she/they] prefer to plan everything to the last detail, which has consequently led to [he/she/they] being very successful and extremely reliable. From [his/her/their] responses it appears that more than most [he/she/they] enjoy seeing [his/her/their] long-term plans come to fruition.'
  ]
}

let extraversion = {
  desc: 'Extraversion refers to the extent to which people get their energy from the company of others, and whether they actively seek excitement and stimulation',
  meta: 'People scoring high on this trait can be described as energetic, talkative and sociable, while people scoring low on this trait tend to be more shy, reserved and comfortable in their own company.',
  text: [
    '[He/She/They] [is/are] quiet and somewhat withdrawn. [his/her/their] answers describe [he/she/they] as someone who doesn’t need lots of other people around to have fun, and can sometimes find that people are tiring.',
    '[He/She/They] prefers low-key social occasions, with a few close friends. [he/she/they] might say that it’s not that [he/she/they] are afraid of large parties; they&#39;re just not that fun for [he/she/they].',
    '[He/She/They] enjoys and actively seeks out social occasions, but would say that they’re not everything. [he/she/they] might say that sometimes it [is/are] nice to step back for a while and have a quiet night in.',
    '[He/She/They] [is/are] energetic and active. [his/her/their] answers describe [he/she/they] as someone who enjoys and actively seeks out social occasions, and that [he/she/they] especially enjoy talking with a big group of people.',
    '[He/She/They] [is/are] constantly energetic, exuberant and active. [his/her/their] answers describe [he/she/they] as someone who aims to be the centre of attention at social occasions, asserts yourself when in groups, and usually says, "Yes!"'
  ]
}

let agreeableness = {
  desc: 'Agreeableness reflects individual differences concerning cooperation and social harmony.',
  meta: 'People scoring high on this trait are generally considered soft-hearted, generous, and sympathetic, while people scoring low on this trait tend to be more driven, self-confident and competitive.',
  text: [
    '[He/She/They] [is/are] willing to make difficult decisions when necessary, and will point out when something [is/are] wrong no matter what other people might feel. [his/her/their] responses suggest that [he/she/they] would say that [he/she/they] can be tough and uncompromising.',
    '[He/She/They] people can find difficult to get along with when [he/she/they] first meet, as [he/she/they] can be suspicious of their motives. [his/her/their] responses suggest that over time though people warm to [he/she/they], and [he/she/they] to them, although that doesn’t stop [he/she/they] telling them "how it [is/are]".',
    '[He/She/They] gets along with people well, especially once they have proved themselves trustworthy to [he/she/they]. [his/her/their] responses suggest that [he/she/they] do have a healthy scepticism about others’ motives, but that doesn’t stop [he/she/they] from considering others to be basically honest and decent.',
    '[He/She/They] people get along with easily. [his/her/their] responses suggest that [he/she/they] would say [he/she/they] are considerate and friendly, and think that other people are generally honest and decent.',
    '[He/She/They] [is/are] extremely easy to get along with. [his/her/their] responses suggest that [he/she/they] would say [he/she/they] are considerate, friendly, generous and helpful and [he/she/they] consider most other people to be thoroughly decent and trustworthy.'
  ]
}

let neuroticism = {
  desc: 'Neuroticism refers to the tendency to experience negative emotions.',
  meta: 'People scoring high on this trait generally worry more than most, and react poorly to stressful situations. However, they often show an emotional depth that others lack.',
  text: [
    '[He/She/They] [is/are] extremely difficult to upset or stress out, since [he/she/they] rarely, if ever, react with negative emotions, and even when [he/she/they] are anxious about something the feeling quickly passes. Based on [his/her/their] responses, [he/she/they] come across as very calm and resilient.',
    '[He/She/They] [is/are] calm and emotionally stable. Based on [his/her/their] responses, [he/she/they] come across as someone who [is/are] rarely bothered by things, and when they do get [he/she/they] down the feeling does not persist for very long.',
    '[He/She/They] [is/are] generally calm. Based on [his/her/their] responses, [he/she/they] come across as someone who can feel emotional or stressed out by some experiences, however [his/her/their] feelings tend to be warranted by the situation.',
    '[He/She/They] tends to be more self-conscious than many. Based on [his/her/their] responses, [he/she/they] come across as someone who can find it hard to not get caught up by anxious or stressful situations. [he/she/they] might say that [he/she/they] are in touch with [his/her/their] own feelings.',
    '[He/She/They] reacts poorly to stressful situations, and consequently worries more than most about them. However, [he/she/they] are someone that has an emotional depth that others lack.'
  ]
}

let oceanText = {
  openness: openness,
  conscientiousness: conscientiousness,
  extraversion: extraversion,
  agreeableness: agreeableness,
  neuroticism: neuroticism,
}

function generateDesc(user) {

  if (typeof user === 'undefined' ||
    typeof user.traits === 'undefined' ||
    typeof user.traits.openness === 'undefined') {
    throw Error('User with traits required');
  }

  let sent = '',
    traits = user.traitNames();

  //console.log(user);
  for (var i = 0; i < traits.length; i++) {
    let val = user.traits[traits[i]];
    let idx = Math.min(traits.length-1, Math.floor(val * traits.length));
    //console.log(traits[i], val,'->',idx);
    sent += oceanText[traits[i]].text[idx] + ' ';
  }

  return sent.trim();
}

module.exports = { generateDesc: generateDesc };
